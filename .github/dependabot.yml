version: 2
updates:
  # ========================================================================
  # TEMPLATE REPOSITORY CONFIGURATION
  # ========================================================================
  # This configuration is for the TEMPLATE repository (azure/osdu-spi)
  # which serves as the engineering system/platform.
  #
  # ARCHITECTURE DECISION:
  # - Template owns: Engineering system (.github workflows and actions)
  # - Forks own: Application code (Maven dependencies)
  # - Updates flow: Template → sync-template → Forks
  #
  # Fork repositories receive .github updates via sync-template workflow,
  # NOT via their own dependabot. This eliminates race conditions and
  # duplicate PRs while maintaining clear separation of concerns.
  # ========================================================================

  # GitHub Actions - Engineering System (Template Responsibility)
  # Monitors ALL .github subdirectories recursively for workflow/action updates
  # Includes: workflows/, template-workflows/, actions/, local-actions/
  - package-ecosystem: "github-actions"
    directory: "/.github"
    schedule:
      interval: "daily"
      time: "08:00"
    target-branch: "main"
    labels:
      - "dependencies"
    groups:
      github-actions:
        patterns:
          - "*"
        update-types:
          - "minor"
          - "patch"
    open-pull-requests-limit: 5

  # Python - Documentation Dependencies (Template Responsibility)
  # Monitor MkDocs and related documentation tooling for the template
  - package-ecosystem: "pip"
    directory: "/doc"
    schedule:
      interval: "daily"
      time: "08:00"
    target-branch: "main"
    labels:
      - "dependencies"
      - "documentation"
    groups:
      mkdocs:
        patterns:
          - "mkdocs*"
          - "pymdown-extensions"
        update-types:
          - "minor"
          - "patch"
    open-pull-requests-limit: 5
